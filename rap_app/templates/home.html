{% extends 'base.html' %}
{% load static %}

{% block title %}Accueil - Rap App{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="text-center mb-5">
        <h1 class="fw-bold text-primary"><i class="fas fa-graduation-cap"></i> Bienvenue sur Rap_App !</h1>
        <p class="lead">Application de suivi des formations, partenaires, prospections et performances üìä</p>
    </div>
<!-- Section Hero -->
<section class="hero-section text-white text-center py-5 bg-image position-relative" 
         style="background-image: url('{% static 'images/logo2_Rapp_App.png' %}');">
    <div class="overlay position-absolute top-0 start-0 w-100 h-100 bg-dark opacity-50"></div>
    <div class="container position-relative z-1">
        
        <a href="{% url 'dashboard' %}" class="btn btn-light btn-lg animate__animated animate__fadeInUp animate__delay-2s">
            <i class="fas fa-tachometer-alt me-2"></i> Acc√©der au Tableau de Bord
        </a>
    </div>
</section>

<!-- Section Fonctionnalit√©s principales (Fusionn√©e avec ton ancien dashboard) -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5 animate__animated animate__fadeIn">Modules Disponibles</h2>
        <div class="row g-4">
            <div class="col-md-4">
                <div class="card h-100 border-primary shadow text-center">
                    <div class="card-body">
                        <i class="fas fa-chalkboard-teacher fa-3x text-primary mb-3"></i>
                        <h5>Formations</h5>
                        <p>Suivi complet des sessions, taux et indicateurs.</p>
                        <a href="{% url 'formation-list' %}" class="btn btn-outline-primary">Voir les formations</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 border-success shadow text-center">
                    <div class="card-body">
                        <i class="fas fa-handshake fa-3x text-success mb-3"></i>
                        <h5>Partenaires</h5>
                        <p>Collaborez avec vos partenaires strat√©giques.</p>
                        <a href="{% url 'partenaire-list' %}" class="btn btn-outline-success">Voir les partenaires</a>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100 border-info shadow text-center">
                    <div class="card-body">
                        <i class="fas fa-chart-line fa-3x text-info mb-3"></i>
                        <h5>Rapports</h5>
                        <p>Acc√®s aux statistiques et indicateurs en temps r√©el.</p>
                        <a href="{% url 'rapport-list' %}" class="btn btn-outline-info">Voir les rapports</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row g-4 mt-4">
            <div class="col-md-6">
                <div class="card h-100 border-warning shadow text-center">
                    <div class="card-body">
                        <i class="fas fa-search-location fa-3x text-warning mb-3"></i>
                        <h5>Prospections</h5>
                        <p>Suivi des actions de terrain et entreprises cibles.</p>
                        <a href="{% url 'prospection-list' %}" class="btn btn-outline-warning">Voir les prospections</a>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100 border-secondary shadow text-center">
                    <div class="card-body">
                        <i class="fas fa-building fa-3x text-secondary mb-3"></i>
                        <h5>Entreprises</h5>
                        <p>Base de donn√©es de vos entreprises partenaires et prospects.</p>
                        <a href="{% url 'company-list' %}" class="btn btn-outline-secondary">Voir les entreprises</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Statistiques dynamiques -->
<section class="bg-light py-5">
    <div class="container">
        <h2 class="text-center mb-5">Statistiques en Temps R√©el</h2>
        <div class="row text-center">
            <div class="col-md-4">
                <div class="card shadow h-100">
                    <div class="card-body">
                        <i class="fas fa-graduation-cap fa-2x text-primary mb-3"></i>
                        <h3>{{ total_formations }}</h3>
                        <p>Formations Actives</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow h-100">
                    <div class="card-body">
                        <i class="fas fa-chart-line fa-2x text-success mb-3"></i>
                        <h3>{{ taux_saturation }}%</h3>
                        <p>Saturation moyenne</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow h-100">
                    <div class="card-body">
                        <i class="fas fa-exchange-alt fa-2x text-warning mb-3"></i>
                        <h3>{{ taux_transformation }}%</h3>
                        <p>Taux de transformation</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Section Description -->
<section class="bg-primary text-white py-5">
    <div class="container text-center">
        <h2 class="mb-4">Qu'est-ce que Rap App ?</h2>
        <p class="lead mb-4">
            Rap_App est un outil de pilotage pour vos formations, statistiques, plans d'action et suivi partenaires. Visualisez, filtrez, exportez et analysez en toute simplicit√©.
        </p>
        <a href="{% url 'dashboard' %}" class="btn btn-light btn-lg">
            <i class="fas fa-tachometer-alt me-2"></i> Acc√©der au tableau de bord
        </a>
    </div>
</section>

<!-- Back to top -->
<button id="back-to-top" class="btn btn-primary btn-lg back-to-top" title="Retour en haut">
    <i class="fas fa-arrow-up"></i>
</button>

<style>
    .bg-image {
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        min-height: 400px;
    }
    .overlay {
        z-index: 1;
    }
    .z-1 {
        z-index: 2;
    }
    .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        display: none;
        z-index: 1000;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const backToTopButton = document.getElementById("back-to-top");

        window.addEventListener("scroll", function () {
            backToTopButton.style.display = window.scrollY > 300 ? "block" : "none";
        });

        backToTopButton.addEventListener("click", function () {
            window.scrollTo({ top: 0, behavior: "smooth" });
        });
    });
</script>
{% endblock %}
